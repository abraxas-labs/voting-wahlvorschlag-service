// (c) Copyright by Abraxas Informatik AG
// For license information see LICENSE file

using System;
using Microsoft.EntityFrameworkCore.Migrations;

namespace Eawv.Service.Migrations;

public partial class UpdateTemplatesMovingRazorContentToFilesystem : Migration
{
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.RenameColumn(
            name: "Content",
            table: "Templates",
            newName: "TemplateName");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("0ea74799-d3fa-c8ea-b7e6-af290716b6c8"),
            column: "TemplateName",
            value: "ListsCandidates_Csv_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("17213c83-88e6-69a2-7f34-a3b716acfda5"),
            column: "TemplateName",
            value: "EmptyListUnions_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("3464ef11-14e5-9cbb-fcc5-fd31fc1704fd"),
            column: "TemplateName",
            value: "BaseLayout_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("4bec31bf-5e45-7b3c-710e-bd4213a24856"),
            column: "TemplateName",
            value: "EMail_List_New_Comment_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("64c50e44-f625-f533-5a88-bab71c3136db"),
            column: "TemplateName",
            value: "ListsCandidates_Bundeskanzlei_Csv_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("6e676953-7461-726f-6965-73242d000000"),
            column: "TemplateName",
            value: "Signatories_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("7473694c-6143-646e-6964-61746573242d"),
            column: "TemplateName",
            value: "ListCandidates_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("906ac8af-b905-0d33-1f03-a462c66f0387"),
            column: "TemplateName",
            value: "ListCandidates_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("a148bd7e-0f06-7117-5de1-6956113f1b06"),
            column: "TemplateName",
            value: "BaseLayoutHeader_Default.cshtml");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("f5021674-afce-9c2c-a533-8a401bb3f2e4"),
            column: "TemplateName",
            value: "EMail_ListState_Changed_Default.cshtml");
    }

    protected override void Down(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.RenameColumn(
            name: "TemplateName",
            table: "Templates",
            newName: "Content");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("0ea74799-d3fa-c8ea-b7e6-af290716b6c8"),
            column: "Content",
            value: "@using Eawv.Service.DataAccess.Entities\n@using RazorLight\n@using System.Linq\n@using System.Collections.Generic;\n@using System;\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n@(Model.IsProporz ? \"Listennummer;\" : \"\")Kandidatennummer;Amtliche Namen;Amtliche Vornamen;Politische Namen;Politische Vornamen;Geschlecht;Geburtsdatum;Adresse;Wplz;Wohnort;Heimatort(e) inkl. Kantonszugehörigkeit;Titel;Beruf(e);Politischer Beruf;@(Model.IsMajorz ? \"Partei;\" : \"\")Bisher@(Model.IsProporz ? \";Vorkumuliert\" : \"\")\n@{\n    const char CsvSeparator = ';';\n    const char CsvSeparatorReplacement = ',';\n    foreach (List list in Model.Election.Lists)\n    {\n        foreach (Candidate candidate in Model.GetClonedAndOrderedCandidates(list))\n        {\n            var sex = ((int)candidate.Sex) - 1;\n            var fields = new List<string>\n            {\n                candidate.Index.ToString(\"D2\"),\n                candidate.FamilyName,\n                candidate.FirstName,\n                candidate.BallotFamilyName,\n                candidate.BallotFirstName,\n                sex.ToString(),\n                candidate.DateOfBirth.ToString(\"dd.MM.yyyy\"),\n                candidate.Street + ' ' + candidate.HouseNumber,\n                candidate.ZipCode,\n                candidate.Locality,\n                candidate.Origin,\n                candidate.Title,\n                candidate.OccupationalTitle,\n                candidate.BallotOccupationalTitle,\n                candidate.Incumbent ? \"Ja\" : \"Nein\"\n            };\n\n            if (Model.IsMajorz)\n            {\n                fields.Insert(fields.Count - 1, candidate.Party); // insert before \"Incumbent\"\n            }\n\n            if (Model.IsProporz)\n            {\n                fields.Insert(0, list.Indenture);\n                fields.Add(candidate.Cloned ? \"Ja\" : \"Nein\");\n            }\n\n            fields = fields.Select(f => f?.Replace(CsvSeparator, CsvSeparatorReplacement) ?? \"\").ToList();\n            @Raw(string.Join(CsvSeparator, fields))\n            @Raw(Environment.NewLine)\n        }\n    }\n}");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("17213c83-88e6-69a2-7f34-a3b716acfda5"),
            column: "Content",
            value: "@inherits RazorLight.TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n@{\n    ViewBag.Model = Model;\n    Layout = \"BaseLayoutHeader\";\n}\n\n<main>\n    <div>\n        <div class=\"row\">\n            <div>\n                <h2 class=\"inline\">Listenverbindung</h2>\n            </div>\n        </div>\n        <div class=\"row space\">\n            <span>Die unterzeichnenden Vertreterinnen/Vertreter erklären hiermit die folgenden Listen unwiderruflich für miteinander verbunden:</span>\n            <span>Anzahl Sitze: @Model.ElectionNumberOfMandates</span>\n        </div>\n        <table class=\"fullwidth\">\n            <thead>\n            <tr>\n                <th rowspan=\"2\" style=\"width: 1cm;\">Liste<br/>Nr.</th>\n                <th rowspan=\"2\" style=\"width: 4cm;\">Listenbezeichnung</th>\n                <th rowspan=\"2\" style=\"width: 1cm;\">Stamm-<br/>liste</th>\n                <th style=\"width: 4.5cm;\" class=\"bot-no-border\">Bemerkungen</th>\n                <th colspan=\"2\" class=\"bot-no-border\">Vertreter/Vertreterin</th>\n                <th style=\"width: 3cm;\" rowspan=\"2\">Ort</th>\n                <th rowspan=\"2\">Datum</th>\n            </tr>\n            <tr class=\"top-no-border\">\n                <th style=\"width: 4.5cm;\">ggf. Unterlistenverbindung(en)</th>\n                <th>Name Vorname</th>\n                <th>Unterschrift</th>\n            </tr>\n            </thead>\n            <tbody>\n            @for (var i = 0; i < 10; i++)\n            {\n                <tr>\n                    <td></td>\n                    <td></td>\n                    <td class=\"center\"><span class=\"checkbox-unchecked\"></span></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                </tr>\n            }\n            </tbody>\n        </table>\n        <div class=\"row\">\n            <span class=\"preserve-whitespace\">@Model.GetInfoText(\"formListunion\")</span>\n        </div>\n    </div>\n</main>");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("3464ef11-14e5-9cbb-fcc5-fd31fc1704fd"),
            column: "Content",
            value: "<html>\n  <head>\n    <meta charset=\"UTF-8\" />\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n        position: relative;\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 12px;\n      }\n\n      @(\"@\")media only screen {\n        body {\n          background-color: gray;\n          padding: 1cm;\n        }\n\n        .doc {\n          background-color: white;\n        }\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5 {\n        margin: 0;\n      }\n\n      h1 {\n        margin-bottom: 1mm;\n      }\n\n      .input {\n        height: 1rem;\n        position: relative;\n        display: inline-block;\n        padding: 0 1mm;\n        box-sizing: border-box;\n      }\n      .input .border {\n        border: 1px solid #999;\n        border-top: none;\n        height: 1mm;\n        margin-top: 3mm;\n        margin: 3mm 0.5mm 0.5mm 0.5mm;\n        bottom: 0;\n        position: absolute;\n        left: 0;\n        right: 0;\n      }\n      input {\n        border: none;\n        width: 100%;\n        position: relative;\n        bottom: 1mm;\n      }\n      .inline-input {\n        bottom: -.5mm;\n      }\n\n      .w-2 {\n        width: 2rem;\n      }\n      .w-4 {\n        width: 4rem;\n      }\n      .w-6 {\n        width: 6rem;\n      }\n      .w-12 {\n        width: 12rem;\n      }\n      .w-16 {\n        width: 16rem;\n      }\n      .w-24 {\n        width: 24rem;\n      }\n\n      .col-main {\n        width: 20cm;\n      }\n\n      .col-right {\n        width: 8.5cm;\n      }\n\n      .label {\n        font-size: 1.1rem;\n        font-weight: 700;\n        color: #999;\n        margin-right: 0.2rem;\n        position: relative;\n        top: -1mm;\n      }\n\n      .size-A4.landscape {\n        width: 297mm;\n      }\n\n      .size-A4 {\n        width: 210mm;\n      }\n\n      .page {\n        page-break-after: always;\n      }\n\n      .hint {\n        font-size: 8pt;\n        color: #555;\n      }\n\n      .filled {\n        background-color: #dadada;\n      }\n\n      .small {\n        font-size: 7pt;\n      }\n      .bold {\n        font-weight: 700;\n      }\n      .super {\n        vertical-align: super;\n      }\n\n      .row {\n        display: flex;\n        flex-direction: row;\n        margin-bottom: 0.15rem;\n      }\n      .col {\n        display: flex;\n        flex-direction: column;\n      }\n      .stretch {\n        justify-content: stretch;\n      }\n      .space {\n        justify-content: space-between;\n      }\n      .grow {\n        flex-grow: 1;\n      }\n      .no-shrink {\n        flex-shrink: 0;\n      }\n      .end {\n        justify-content: flex-end;\n      }\n      .items-end {\n        align-items: flex-end;\n      }\n      .center {\n        justify-content: center;\n      }\n      .right {\n        text-align: right;\n      }\n      .inline {\n        display: inline-block;\n        margin: 0;\n      }\n      .fullwidth {\n        width: 100%;\n      }\n      .spacer {\n        display: inline-block;\n        width: 0.5rem;\n      }\n      .space-bottom {\n        margin-bottom: 1.5mm;\n      }\n      .space-right {\n        margin-right: 2mm;\n      }\n\n      .upright {\n        writing-mode: vertical-rl;\n        transform: rotate(-180deg);\n      }\n\n      table {\n        margin-bottom: 1.5mm;\n      }\n\n      table,\n      th,\n      td {\n        font-size: 11px;\n        border-collapse: collapse;\n        border: 1px solid #000;\n      }\n\n      th {\n        background-color: #dadada;\n        vertical-align: top;\n      }\n\n      th,\n      td {\n        padding: 1mm;\n      }\n\n      thead tr > tr th {\n        font-weight: 400;\n      }\n\n      thead {\n        height: 200px;\n      }\n      tbody {\n        background-color: #fff;\n      }\n      tbody td {\n        border-top: 1px dashed #000;\n        border-bottom: 1px dashed #000;\n      }\n\n      tbody tr {\n        height: 1.2cm;\n      }\n\n      tbody tr > td.right {\n        text-align: right;\n      }\n\n      tbody tr > td.center {\n        text-align: center;\n      }\n\n      .top-no-border th,\n      .top-no-border tr {\n        border-top: none;\n      }\n      .bot-no-border {\n        border-bottom: none;\n      }\n\n      .center-placeholder::placeholder {\n        text-align: center;\n        color: #000;\n      }\n\n      .version {\n        align-items: flex-end;\n        justify-content: flex-end;\n        display: flex;\n      }\n\n      .checkbox-checked {\n        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAy0lEQVQ4y6WTIQ7CMBiFv9duOwQCsVssQSA4A0dAoEZCEAgcAsc1OAkKiZ1A4BHIrpiSMNgYbDVN27zvf31/K8DTY0Rh3gPHP7UZkBMcTDsUnwLe9LEP8BfAWjvsDJC0cs6drbWD1/3oR3Huvd9JWjjnru/nlRAljZMkiV7Wc8BLWtaFWAEEe3fgEMdxImkWxOsaY5+AUHESIKcg3jTcrB4QICPgBmy/RNMMADDGDNM0NW2Axi6UZXkpiqK1Q71f4tNB1kGbAYie3/kBVdgzl8pet1AAAAAASUVORK5CYII=');\n        width: 12px;\n        height: 12px;\n        background-size: contain;\n        display: inline-block;\n      }\n\n      .checkbox-unchecked {\n        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAR0lEQVQ4y+3TMRXAIBRD0UtPTX0j6KgUXFUWLCCg/KUDWTLlJUsKuoTu6Q3vx2zgMRfUjfKKfmXmwwEcwD8A60yxkQ0oknceO48HO4dlIIgAAAAASUVORK5CYII=');\n        width: 12px;\n        height: 12px;\n        background-size: contain;\n        display: inline-block;\n      }\n\n      .preserve-whitespace {\n        white-space: pre-wrap;\n      }\n      \n      .no-page-break {\n        page-break-inside: avoid;\n      }\n\n      footer.pdf {\n        width: 100%;\n        padding-right: 0.75cm;\n        @* needed according to https://github.com/GoogleChrome/puppeteer/issues/2104 *@\n        font-size: calc(8pt * 210/297);\n        font-family: Arial, Helvetica, sans-serif;\n      }\n\n      footer.pdf div {\n        width: 100%;\n        text-align: right;\n      }\n      \n      @RenderSection(\"HeaderStyles\", false)\n      @RenderSection(\"Styles\", false)\n    </style>\n</head>\n<body>\n<div class=\"doc size-@ViewBag.Model.Template.Format @(ViewBag.Model.Template.Landscape ? \"landscape\" : \"\")\">\n  <header class=\"pdf\"><span></span></header><!-- enforce empty pdf header -->\n  @RenderBody()\n  <footer class=\"pdf\">\n    <div>Seite @ViewBag.Model.CurrentPage / @ViewBag.Model.TotalPages</div>\n  </footer>\n</div>\n</body>\n</html>\n");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("4bec31bf-5e45-7b3c-710e-bd4213a24856"),
            column: "Content",
            value: "@using RazorLight\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n<h2>Guten Tag</h2>\nDem Wahlvorschlag @Model.List.Name wurde ein neuer Kommentar hinterlegt.<br />\nFür weitere Informationen besuchen Sie bitte die elektronische Abwicklung von Wahlvorschlägen: @Model.GetConfig(\"GUIUrl\")elections/@Model.Election.Id/lists/@Model.List.Id.<br />\n<br />\nDiese Nachricht wurde automatisch generiert.\n");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("64c50e44-f625-f533-5a88-bab71c3136db"),
            column: "Content",
            value: "@using Eawv.Service.DataAccess.Entities\n@using RazorLight\n@using System.Linq\n@using System.Collections.Generic;\n@using System;\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\nListennummer;Kandidatennummer;Amtliche Namen;Amtliche Vornamen;Politische Namen;Politische Vornamen;Geschlecht;Geburtsdatum;Adresse;Wplz;Wohnort;Heimatorte;Beruf\n@{\n    const char CsvSeparator = ';';\n    const char CsvSeparatorReplacement = ',';\n    foreach (List list in Model.Election.Lists)\n    {\n        foreach (Candidate candidate in list.Candidates.OrderBy(c => c.Index))\n        {\n            var sex = ((int)candidate.Sex) - 1;\n            var fields = new List<string>\n            {\n                list.Indenture,\n                candidate.Index.ToString(\"D2\"),\n                candidate.FamilyName,\n                candidate.FirstName,\n                candidate.BallotFamilyName,\n                candidate.BallotFirstName,\n                sex.ToString(),\n                candidate.DateOfBirth.ToString(\"dd.MM.yyyy\"),\n                candidate.Street + ' ' + candidate.HouseNumber,\n                candidate.ZipCode,\n                candidate.Locality,\n                candidate.Origin,\n                candidate.OccupationalTitle\n            }\n            .Select(f => f?.Replace(CsvSeparator, CsvSeparatorReplacement) ?? \"\");\n            @Raw(string.Join(CsvSeparator, fields))\n            @Raw(Environment.NewLine)\n        }\n    }\n}");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("6e676953-7461-726f-6965-73242d000000"),
            column: "Content",
            value: "@using RazorLight\n@using System\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n@{\n    ViewBag.Model = Model;\n    Layout = \"BaseLayout\";\n    var entries = Model.Election.QuorumSignaturesCount ?? 200;\n    var entriesPerPage = 10;\n    var pages = Math.Ceiling((double)entries / entriesPerPage);\n    \n    var tenantTitle = Model.GetInfoText(\"tenantTitle\");\n    var hasTenantLogo = string.IsNullOrEmpty(tenantTitle) && ViewBag.Model.Election.TenantLogo != null;\n}\n\n@section HeaderStyles {\n    @if (hasTenantLogo)\n    {\n           <text>\n           .page {\n               background-image: url('@ViewBag.Model.ElectionTenantLogoDataURI');\n               background-repeat: no-repeat;\n               background-position: top right;\n               background-size: auto 75px;\n           }\n           </text>\n    }\n}\n\n@for (var page = 1; page <= pages; page++)\n{\n    <div class=\"page\">\n        <header class=\"row space\">\n            <h1 class=\"preserve-whitespace\">@Model.Election.Name</h1>\n            @if (!hasTenantLogo)\n            {\n                <h1>@tenantTitle</h1>\n            }\n        </header>\n        <main>\n            <div class=\"row stretch\">\n                <div class=\"grow\">\n                    <div class=\"row space\">\n                        <div class=\"row col-main\">\n                            <div>\n                                @if (Model.IsMajorz)\n                                {\n                                    <span class=\"bold\">Zur Wahl wird vorgeschlagen:</span>\n                                }\n                                else\n                                {\n                                    <span><span class=\"bold\">Bezeichnung</span> des Wahlvorschlags:</span>\n                                }\n                            </div>\n                            <div class=\"grow col\">\n                                <div class=\"input\">\n                                    <input value=\"@Model.List.Name\" />\n                                    <div class=\"border\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            @if (Model.IsProporz)\n            {\n                <div class=\"row stretch\">\n                    <div class=\"grow\">\n                        <div class=\"row space\">\n                            <div class=\"row col-main\">\n                                <div>\n                                    Evtl. <span class=\"bold\">Präzisierung</span> nach Alter, Geschlecht, Region oder Parteiflügel:\n                                </div>\n                                <div class=\"grow col\">\n                                    <div class=\"input\">\n                                        <input value=\"@Model.List.Description\" />\n                                        <div class=\"border\"></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            }\n            <div>\n                <div class=\"row space\">\n                    <div class=\"row items-end\">\n                        <div>\n                            <h2 class=\"inline\">Unterzeichnerinnen und Unterzeichner des Wahlvorschlags</h2>\n                        </div>\n                    </div>\n                </div>\n                <table class=\"fullwidth\">\n                    <thead>\n                        <tr>\n                            <th rowspan=\"2\">Nr.</th>\n                            <th rowspan=\"2\" style=\"width: 3cm\">Name</th>\n                            <th rowspan=\"2\" style=\"width: 3cm\">Vorname</th>\n                            <th colspan=\"3\" class=\"bot-no-border\">Geburtsdatum</th>\n                            <th class=\"bot-no-border\" style=\"width: 4cm;\">Beruf</th>\n                            <th colspan=\"3\" class=\"bot-no-border\">Adresse</th>\n                            <th rowspan=\"2\" style=\"width: 3.5cm\">Unterschrift</th>\n                            <th rowspan=\"2\" style=\"width: .2cm\">Kontrolle (leer lassen)</th>\n                        </tr>\n                        <tr class=\"top-no-border\">\n                            <th>\n                                <span class=\"upright\">Tag</span>\n                            </th>\n                            <th>\n                                <span class=\"upright\">Monat</span>\n                            </th>\n                            <th>\n                                <span class=\"upright\">Jahr</span>\n                            </th>\n                            <th style=\"width: 3.5cm;\">\n                                (inkl. allfälliger Titel)\n                            </th>\n                            <th style=\"width: 3cm;\">Strasse/Nr.</th>\n                            <th>PLZ</th>\n                            <th>Wohnort</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        @for (var i = 1; i <= entriesPerPage && (page - 1) * entriesPerPage + i <= entries; i++)\n                        {\n                            <tr>\n                                <td class=\"center\">@((page - 1) * entriesPerPage + i)</td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td class=\"filled\"></td>\n                            </tr>\n                        }\n                    </tbody>\n                </table>\n                <div class=\"preserve-whitespace\">@Model.GetInfoText(\"formSignatories\")</div>\n            </div>\n        </main>\n    </div>\n}");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("7473694c-6143-646e-6964-61746573242d"),
            column: "Content",
            value: "@using Eawv.Service.DataAccess.Entities\n@using RazorLight\n@using System.Linq\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n@{\n    ViewBag.Model = Model;\n    Layout = \"BaseLayoutHeader\";\n    // show signature column only for lists not in draft state or pseudo lists                                                                       \n    var showSignatureColumn = !Model.ListIsDraft || Model.List.IsNew;\n}\n<main>\n<div class=\"row stretch\">\n    <div class=\"grow\">\n        @if (Model.IsProporz)\n        {\n            <div class=\"row space\">\n                <div class=\"row col-main\">\n                    <div>\n                        <span><span class=\"bold\">Bezeichnung</span> des Wahlvorschlags:</span>\n                    </div>\n                    <div class=\"grow col\">\n                        <div class=\"input\">\n                            <input value=\"@Model.List.Name\" />\n                            <div class=\"border\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        }\n\n        @if (Model.IsMajorz)\n        {\n            <div class=\"row space\">\n                <div class=\"row col-main space\">\n                    <div class=\"flex\">\n                        <span class=\"bold\">Eingang bei zuständiger Behörde</span> (bitte nicht ausfüllen):\n                        <div class=\"input inline-input w-6\">\n                            <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"d\") : \"\")\" />\n                            <div class=\"border\"></div>\n                        </div>\n                        <div class=\"input inline-input w-4\">\n                            <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"t\") : \"\")\" />\n                            <div class=\"border\"></div>\n                        </div>\n                        Uhr\n                    </div>\n                    <div class=\"flex\">\n                        <div class=\"input inline-input w-6\">\n                            <input value=\"\" />\n                            <div class=\"border\"></div>\n                        </div>\n                        Visum zuständige Behörde\n                    </div>\n                </div>\n            </div>\n        }\n\n\n        @if (Model.IsProporz)\n        {\n            <div class=\"row space\">\n                <div class=\"row col-main\">\n                    <div>\n                        Evtl. <span class=\"bold\">Präzisierung</span> nach Alter,\n                        Geschlecht, Region oder Parteiflügel:\n                    </div>\n                    <div class=\"input grow\">\n                        <input value=\"@Model.List.Description\" />\n                        <div class=\"border\"></div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row col-main space\">\n                <div class=\"flex\">\n                    <span class=\"bold\">Listennummer</span> (Bitte nicht ausfüllen, wird zugeteilt):\n                    <div class=\"input inline-input w-4\">\n                        <input value=\"@Model.List.Indenture\" />\n                        <div class=\"border\"></div>\n                    </div>\n                </div>\n                <div class=\"flex\">\n                    Einreichedatum:\n                    <div class=\"input inline-input w-6\">\n                        <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"d\") : \"\")\" />\n                        <div class=\"border\"></div>\n                    </div>\n                    <div class=\"input inline-input w-4\">\n                        <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"t\") : \"\")\" />\n                        <div class=\"border\"></div>\n                    </div>\n                    Uhr\n                </div>\n            </div>\n        }\n    </div>\n</div>\n<div>\n    <div class=\"row space\">\n        <div class=\"row\">\n            <div>\n                <h2 class=\"inline\">Kandidatur(en)</h2>\n                @(Model.List.IsNew ? \"(Bitte in Blockschrift ergänzen)\" : \"\")\n            </div>\n        </div>\n        @if (Model.IsProporz)\n        {\n            <span>Anzahl Sitze: @Model.ElectionNumberOfMandates</span>\n        }\n    </div>\n    <table class=\"fullwidth\">\n        <thead>\n        <tr>\n            <th rowspan=\"2\">Nr.</th>\n            <th class=\"bot-no-border\" style=\"width: 3cm\">Name</th>\n            <th class=\"bot-no-border\" style=\"width: 3cm\">Vorname</th>\n            <th rowspan=\"2\">\n                <span class=\"upright\">Geschlecht (m/w)</span>\n            </th>\n            <th colspan=\"3\" class=\"bot-no-border\">Geburtsdatum</th>\n            <th class=\"bot-no-border\" style=\"width: 4cm;\">Beruf</th>\n            <th colspan=\"3\" class=\"bot-no-border\">Adresse</th>\n            <th rowspan=\"2\">Heimatort(e) inkl. Kantonszugehörigkeit</th>\n            @if (Model.IsMajorz)\n            {\n                <th rowspan=\"2\" style=\"width: 3cm\">\n                    <span>Partei</span>\n                </th>\n            }\n            <th rowspan=\"2\">\n                <span class=\"upright\">Bisher</span>\n            </th>\n            @if (showSignatureColumn)\n            {\n                <th rowspan=\"2\" style=\"width: 3.5cm\">\n                    Unterschrift<br/>der Kandidierenden\n                </th>\n            }\n            <th rowspan=\"2\" style=\"width: .2cm\">Kontrolle (leer lassen)</th>\n        </tr>\n        <tr class=\"top-no-border\">\n            <th style=\"width: 3cm;\">\n                <em>1. Zeile Amtlich</em><br />\n                <em>2. Zeile Politisch</em>\n            </th>\n            <th style=\"width: 3cm;\">\n                <em>1. Zeile Amtlich</em><br />\n                <em>2. Zeile Politisch</em>\n            </th>\n            <th>\n                <span class=\"upright\">Tag</span>\n            </th>\n            <th>\n                <span class=\"upright\">Monat</span>\n            </th>\n            <th>\n                <span class=\"upright\">Jahr</span>\n            </th>\n            <th style=\"width: 3.5cm;\">\n                inkl. allfälliger Titel und weiterer Bezeichnungen für\n                Stimmzettel\n            </th>\n            <th style=\"width: 3cm;\">Strasse/Nr.</th>\n            <th>PLZ</th>\n            <th>Wohnort</th>\n        </tr>\n        </thead>\n        <tbody>\n        @foreach (var candidate in Model.GetClonedAndOrderedCandidates())\n        {\n            <tr>\n                <td class=\"filled right\">@candidate.Index.ToString(\"D2\")</td>\n                @if (candidate.IsNew)\n                {\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\"></div>\n                        <div></div>\n                    </td>\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\"></div>\n                        <div></div>\n                    </td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    @if (Model.IsMajorz)\n                    {\n                        <td></td>\n                    }\n                }\n                else\n                {\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\">@candidate.FamilyName</div>\n                        <div>@candidate.BallotFamilyName</div>\n                    </td>\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\">@candidate.FirstName</div>\n                        <div>@candidate.BallotFirstName</div>\n                    </td>\n                    <td class=\"center\">\n                        @switch (candidate.Sex)\n                        {\n                            case SexType.Female:\n                                <span>w</span>\n                                break;\n                            case SexType.Male:\n                                <span>m</span>\n                                break;\n                        }\n                    </td>\n                    <td class=\"center\">@candidate.DateOfBirth.Day</td>\n                    <td class=\"center\">@candidate.DateOfBirth.Month</td>\n                    <td class=\"center\">@candidate.DateOfBirth.Year</td>\n                    <td>@(Model.Settings.ShowBallotPaperInfos ?\n                              candidate.BallotOccupationalTitle :\n                              string.IsNullOrWhiteSpace(candidate.Title) ?\n                                  candidate.OccupationalTitle :\n                                  $\"{candidate.Title}, {candidate.OccupationalTitle}\")</td>\n                    <td>@candidate.Street @candidate.HouseNumber</td>\n                    <td>@candidate.ZipCode</td>\n                    <td>@candidate.Locality</td>\n                    <td>@candidate.Origin</td>\n                    @if (Model.IsMajorz)\n                    {\n                        <td>@candidate.Party</td>\n                    }\n                    <!-- Bisher -->\n                    <td class=\"center\"><span class=\"@(candidate.Incumbent ? \"checkbox-checked\" : \"checkbox-unchecked\")\"></span></td>\n                }\n                @if (showSignatureColumn)\n                {\n                    <td></td>\n                }\n                <td class=\"filled\"></td>\n            </tr>\n        }\n        </tbody>\n    </table>\n</div>\n<div class=\"no-page-break\">\n    <div class=\"row space-bottom\">\n        <div class=\"w-12\">Vertretung des Wahlvorschlags: </div>\n        <div>\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListRepresentative?.Firstname @Model.ListRepresentative?.Lastname\"/>\n                <div class=\"border\"></div>\n            </div>\n            E-Mail:\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListRepresentative?.Emails?.FirstOrDefault(e => e.Primary)?.Email\"/>\n                <div class=\"border\"></div>\n            </div>\n            Unterschrift:\n            <div class=\"input inline-input w-16\">\n                <input />\n                <div class=\"border\"></div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row space-bottom\">\n        <div class=\"w-12\">Stellvertretung des Wahlvorschlags: </div>\n        <div>\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListDeputy?.Firstname @Model.ListDeputy?.Lastname\"/>\n                <div class=\"border\"></div>\n            </div>\n            E-Mail:\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListDeputy?.Emails?.FirstOrDefault(e => e.Primary)?.Email\"/>\n                <div class=\"border\"></div>\n            </div>\n            Unterschrift:\n            <div class=\"input inline-input w-16\">\n                <input />\n                <div class=\"border\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"space-bottom preserve-whitespace\">\n@Model.GetInfoText(\"formCandidacies\")\n</div>\n@if (!Model.List.IsNew)\n{\n    <div class=\"row stretch\">\n        <div class=\"grow version hint\">Version @Model.List.Version</div>\n    </div>\n}\n</main>");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("906ac8af-b905-0d33-1f03-a462c66f0387"),
            column: "Content",
            value: "@using Eawv.Service.DataAccess.Entities\n@using RazorLight\n@using System.Linq\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n@{\n    ViewBag.Model = Model;\n    Layout = \"BaseLayoutHeader\";\n    // show signature column only for lists not in draft state or pseudo lists                                                                       \n    var showSignatureColumn = !Model.ListIsDraft || Model.List.IsNew;\n}\n<main>\n<div class=\"row stretch\">\n    <div class=\"grow\">\n        @if (Model.IsProporz)\n        {\n            <div class=\"row space\">\n                <div class=\"row col-main\">\n                    <div>\n                        <span><span class=\"bold\">Bezeichnung</span> des Wahlvorschlags:</span>\n                    </div>\n                    <div class=\"grow col\">\n                        <div class=\"input\">\n                            <input value=\"@Model.List.Name\" />\n                            <div class=\"border\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        }\n\n        @if (Model.IsMajorz)\n        {\n            <div class=\"row space\">\n                <div class=\"row col-main space\">\n                    <div class=\"flex\">\n                        <span class=\"bold\">Eingang bei zuständiger Behörde</span> (bitte nicht ausfüllen):\n                        <div class=\"input inline-input w-6\">\n                            <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"d\") : \"\")\" />\n                            <div class=\"border\"></div>\n                        </div>\n                        <div class=\"input inline-input w-4\">\n                            <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"t\") : \"\")\" />\n                            <div class=\"border\"></div>\n                        </div>\n                        Uhr\n                    </div>\n                    <div class=\"flex\">\n                        <div class=\"input inline-input w-6\">\n                            <input value=\"\" />\n                            <div class=\"border\"></div>\n                        </div>\n                        Visum zuständige Behörde\n                    </div>\n                </div>\n            </div>\n        }\n\n\n        @if (Model.IsProporz)\n        {\n            <div class=\"row space\">\n                <div class=\"row col-main\">\n                    <div>\n                        Evtl. <span class=\"bold\">Präzisierung</span> nach Alter,\n                        Geschlecht, Region oder Parteiflügel:\n                    </div>\n                    <div class=\"input grow\">\n                        <input value=\"@Model.List.Description\" />\n                        <div class=\"border\"></div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row col-main space\">\n                <div class=\"flex\">\n                    <span class=\"bold\">Listennummer</span> (Bitte nicht ausfüllen, wird zugeteilt):\n                    <div class=\"input inline-input w-4\">\n                        <input value=\"@Model.List.Indenture\" />\n                        <div class=\"border\"></div>\n                    </div>\n                </div>\n                <div class=\"flex\">\n                    Einreichedatum:\n                    <div class=\"input inline-input w-6\">\n                        <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"d\") : \"\")\" />\n                        <div class=\"border\"></div>\n                    </div>\n                    <div class=\"input inline-input w-4\">\n                        <input value=\"@(Model.List.SubmitDate.HasValue ? Model.List.SubmitDate.Value.ToString(\"t\") : \"\")\" />\n                        <div class=\"border\"></div>\n                    </div>\n                    Uhr\n                </div>\n            </div>\n        }\n    </div>\n</div>\n<div>\n    <div class=\"row space\">\n        <div class=\"row\">\n            <div>\n                <h2 class=\"inline\">Kandidatur(en)</h2>\n                @(Model.List.IsNew ? \"(Bitte in Blockschrift ergänzen)\" : \"\")\n            </div>\n        </div>\n        @if (Model.IsProporz)\n        {\n            <span>Anzahl Sitze: @Model.ElectionNumberOfMandates</span>\n        }\n    </div>\n    <table class=\"fullwidth\">\n        <thead>\n        <tr>\n            <th rowspan=\"2\">Nr.</th>\n            <th class=\"bot-no-border\" style=\"width: 3cm\">Name</th>\n            <th class=\"bot-no-border\" style=\"width: 3cm\">Vorname</th>\n            <th rowspan=\"2\">\n                <span class=\"upright\">Geschlecht (m/w)</span>\n            </th>\n            <th colspan=\"3\" class=\"bot-no-border\">Geburtsdatum</th>\n            <th class=\"bot-no-border\" style=\"width: 4cm;\">Beruf</th>\n            <th colspan=\"3\" class=\"bot-no-border\">Adresse</th>\n            <th rowspan=\"2\">Heimatort(e) inkl. Kantonszugehörigkeit</th>\n            @if (Model.IsMajorz)\n            {\n                <th rowspan=\"2\" style=\"width: 3cm\">\n                    <span>Partei</span>\n                </th>\n            }\n            <th rowspan=\"2\">\n                <span class=\"upright\">Bisher</span>\n            </th>\n            @if (showSignatureColumn)\n            {\n                <th rowspan=\"2\" style=\"width: 3.5cm\">\n                    Unterschrift<br/>der Kandidierenden\n                </th>\n            }\n            <th rowspan=\"2\" style=\"width: .2cm\">Kontrolle (leer lassen)</th>\n        </tr>\n        <tr class=\"top-no-border\">\n            <th style=\"width: 3cm;\">\n                <em>1. Zeile Amtlich</em><br />\n                <em>2. Zeile Politisch</em>\n            </th>\n            <th style=\"width: 3cm;\">\n                <em>1. Zeile Amtlich</em><br />\n                <em>2. Zeile Politisch</em>\n            </th>\n            <th>\n                <span class=\"upright\">Tag</span>\n            </th>\n            <th>\n                <span class=\"upright\">Monat</span>\n            </th>\n            <th>\n                <span class=\"upright\">Jahr</span>\n            </th>\n            <th style=\"width: 3.5cm;\">\n                inkl. allfälliger Titel und weiterer Bezeichnungen für\n                Stimmzettel\n            </th>\n            <th style=\"width: 3cm;\">Strasse/Nr.</th>\n            <th>PLZ</th>\n            <th>Wohnort</th>\n        </tr>\n        </thead>\n        <tbody>\n        @foreach (var candidate in Model.GetClonedAndOrderedCandidates())\n        {\n            <tr>\n                <td class=\"filled right\">@candidate.Index.ToString(\"D2\")</td>\n                @if (candidate.IsNew)\n                {\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\"></div>\n                        <div></div>\n                    </td>\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\"></div>\n                        <div></div>\n                    </td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    @if (Model.IsMajorz)\n                    {\n                        <td></td>\n                    }\n                }\n                else\n                {\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\">@candidate.FamilyName</div>\n                        <div>@candidate.BallotFamilyName</div>\n                    </td>\n                    <td>\n                        <div style=\"border-bottom: 1px solid #999;\">@candidate.FirstName</div>\n                        <div>@candidate.BallotFirstName</div>\n                    </td>\n                    <td class=\"center\">\n                        @switch (candidate.Sex)\n                        {\n                            case SexType.Female:\n                                <span>w</span>\n                                break;\n                            case SexType.Male:\n                                <span>m</span>\n                                break;\n                        }\n                    </td>\n                    <td class=\"center\">@candidate.DateOfBirth.Day</td>\n                    <td class=\"center\">@candidate.DateOfBirth.Month</td>\n                    <td class=\"center\">@candidate.DateOfBirth.Year</td>\n                    <td>@(Model.Settings.ShowBallotPaperInfos ?\n                              candidate.BallotOccupationalTitle :\n                              string.IsNullOrWhiteSpace(candidate.Title) ?\n                                  candidate.OccupationalTitle :\n                                  $\"{candidate.Title}, {candidate.OccupationalTitle}\")</td>\n                    <td>@candidate.Street @candidate.HouseNumber</td>\n                    <td>@candidate.ZipCode</td>\n                    <td>@candidate.Locality</td>\n                    <td>@candidate.Origin</td>\n                    @if (Model.IsMajorz)\n                    {\n                        <td>@candidate.Party</td>\n                    }\n                    <!-- Bisher -->\n                    <td class=\"center\"><span class=\"@(candidate.Incumbent ? \"checkbox-checked\" : \"checkbox-unchecked\")\"></span></td>\n                }\n                @if (showSignatureColumn)\n                {\n                    <td></td>\n                }\n                <td class=\"filled\"></td>\n            </tr>\n        }\n        </tbody>\n    </table>\n</div>\n<div class=\"no-page-break\">\n    <div class=\"row space-bottom\">\n        <div class=\"w-12\">Vertretung des Wahlvorschlags: </div>\n        <div>\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListRepresentative?.Firstname @Model.ListRepresentative?.Lastname\"/>\n                <div class=\"border\"></div>\n            </div>\n            E-Mail:\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListRepresentative?.Emails?.FirstOrDefault(e => e.Primary)?.Email\"/>\n                <div class=\"border\"></div>\n            </div>\n            Unterschrift:\n            <div class=\"input inline-input w-16\">\n                <input />\n                <div class=\"border\"></div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row space-bottom\">\n        <div class=\"w-12\">Stellvertretung des Wahlvorschlags: </div>\n        <div>\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListDeputy?.Firstname @Model.ListDeputy?.Lastname\"/>\n                <div class=\"border\"></div>\n            </div>\n            E-Mail:\n            <div class=\"input inline-input w-16\">\n                <input value=\"@Model.ListDeputy?.Emails?.FirstOrDefault(e => e.Primary)?.Email\"/>\n                <div class=\"border\"></div>\n            </div>\n            Unterschrift:\n            <div class=\"input inline-input w-16\">\n                <input />\n                <div class=\"border\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"space-bottom preserve-whitespace\">\n@Model.GetInfoText(\"formCandidacies\")\n</div>\n@if (!Model.List.IsNew)\n{\n    <div class=\"row stretch\">\n        <div class=\"grow version hint\">Version @Model.List.Version</div>\n    </div>\n}\n</main>");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("a148bd7e-0f06-7117-5de1-6956113f1b06"),
            column: "Content",
            value: "@{\n    Layout = \"BaseLayout\";\n}\n<header class=\"row space\">\n    <h1 class=\"preserve-whitespace\">@ViewBag.Model.Election.Name</h1>\n    @{\n        var tenantTitle = ViewBag.Model.GetInfoText(\"tenantTitle\");\n        var hasTenantLogo = string.IsNullOrEmpty(tenantTitle) && ViewBag.Model.Election.TenantLogo != null;\n    }\n    \n    @if (!hasTenantLogo)\n    {\n        <h1>@tenantTitle</h1>\n    }\n    \n    @section HeaderStyles {\n        @if (hasTenantLogo)\n        {\n           <text>\n           .doc {\n               background-image: url('@ViewBag.Model.ElectionTenantLogoDataURI');\n               background-repeat: no-repeat;\n               background-position: top right;\n               background-size: auto 75px;\n            }\n           </text>\n        }\n    }\n    \n    @RenderSection(\"Header\", false)\n</header>\n@RenderBody()");

        migrationBuilder.UpdateData(
            table: "Templates",
            keyColumn: "Id",
            keyValue: new Guid("f5021674-afce-9c2c-a533-8a401bb3f2e4"),
            column: "Content",
            value: "@using RazorLight\n@inherits TemplatePage<Eawv.Service.Models.TemplateServiceModels.TemplateBag>\n<h2>Guten Tag</h2>\nDer Status des Wahlvorschlags @Model.List.Name wurde geändert.<br />\nFür weitere Informationen besuchen Sie bitte die elektronische Abwicklung von Wahlvorschlägen: @Model.GetConfig(\"GUIUrl\")elections/@Model.Election.Id.<br />\n<br />\nDiese Nachricht wurde automatisch generiert.\n");
    }
}
